# Multi-Platform Video Downloader API

–ü—Ä–æ—Å—Ç–æ–π –∏ –º–æ—â–Ω—ã–π PHP API –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `yt-dlp`. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram-–±–æ—Ç–∞–º–∏ –∏–ª–∏ –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.

## üöÄ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **TikTok** (–±–µ–∑ –≤–æ–¥—è–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤, –æ–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫)
- **Instagram** (Reels, Posts)
- **VK** (–í–∏–¥–µ–æ –∏ –ö–ª–∏–ø—ã)
- **RuTube**

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (Ubuntu 22.04+)

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- PHP 7.4 –∏–ª–∏ –≤—ã—à–µ
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `yt-dlp`
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `ffmpeg` –¥–ª—è —Å–∫–ª–µ–π–∫–∏ –≤–∏–¥–µ–æ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ yt-dlp
–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ:
```bash
sudo curl -L https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp -o /usr/local/bin/yt-dlp
sudo chmod a+rx /usr/local/bin/yt-dlp
```

#### TikTok: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ nightly (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
TikTok —Ä–µ–≥—É–ª—è—Ä–Ω–æ –º–µ–Ω—è–µ—Ç API/—Ö–æ—Å—Ç—ã, –ø–æ—ç—Ç–æ–º—É –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è **–±–µ–∑ –≤–æ–¥—è–Ω–æ–≥–æ –∑–Ω–∞–∫–∞** —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è nightly —Å–±–æ—Ä–∫–∞:
```bash
sudo yt-dlp --update-to nightly
yt-dlp --version
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª—ã.
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config.php` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (—Å–º. `config.example.php`).
3. –£–∫–∞–∂–∏—Ç–µ –≤–∞—à —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –≤ `config.php`.
4. **TikTok (–±–µ–∑ –≤–æ–¥—è–Ω–æ–≥–æ –∑–Ω–∞–∫–∞):** –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ [`index.php`](index.php:1) –¥–ª—è mobile API:
   - `tiktok_api_hostname` (–Ω–∞–ø—Ä–∏–º–µ—Ä `api22-normal-c-useast2a.tiktokv.com`)
   - `tiktok_user_agent` (Android user-agent)
   - `tiktok_sleep_requests`, `tiktok_sleep_interval` (–∞–Ω—Ç–∏-–±–∞–Ω/—Ä–µ–π—Ç–∫–æ–Ω—Ç—Ä–æ–ª—å)
   - `tiktok_embed_metadata` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–æ–±–∞–≤–ª—è–µ—Ç `--embed-metadata`)
5. **–î–ª—è YouTube/Instagram**: –ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É "Sign in to confirm you're not a bot", –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Cookies.
   - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫—É–∫–∏ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Netscape (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Cookie-Editor).
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏—Ö –≤ —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `cookies.txt`) –∏ —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –Ω–µ–º—É –≤ `config.php` (`cookies_path`).
6. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É PHP –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É —Å–∏—Å—Ç–µ–º—ã (`/tmp`).

---

## ü§ñ –¢–µ–∫—Å—Ç –¥–ª—è Telegram-–±–æ—Ç–∞ (–∫–æ–º–∞–Ω–¥–∞ /start)

–ü—Ä–∏–≤–µ—Ç! üëã –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Å–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ –±–µ–∑ –≤–æ–¥—è–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤ –∏ –≤ –ª—É—á—à–µ–º –∫–∞—á–µ—Å—Ç–≤–µ.

**–ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å –º–Ω–µ —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ –∏–∑:**
‚Ä¢ TikTok üì±
‚Ä¢ Instagram üì∏
‚Ä¢ VK üë•
‚Ä¢ RuTube üá∑üá∫

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
1. –°–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ.
2. –í—Å—Ç–∞–≤—å –µ—ë —Å—é–¥–∞.
3. –ü–æ–¥–æ–∂–¥–∏ –ø–∞—Ä—É —Å–µ–∫—É–Ω–¥, –∏ —è –ø—Ä–∏—à–ª—é —Ç–µ–±–µ —Ñ–∞–π–ª!

*–ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å? –ü—Ä–∏—Å—ã–ª–∞–π –ø–µ—Ä–≤—É—é —Å—Å—ã–ª–∫—É!*

---

## üì° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

**Endpoint:** `POST /index.php`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (JSON –∏–ª–∏ Form-data):**
- `url`: –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ.
- `key`: –í–∞—à —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞.
- `mode`: –†–µ–∂–∏–º —Å–∫–∞—á–∏–≤–∞–Ω–∏—è: `video` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ `audio` (—Ç–æ–ª—å–∫–æ –∞—É–¥–∏–æ).

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (curl) ‚Äî –≤–∏–¥–µ–æ:**
```bash
curl -X POST https://your-domain.com/index.php \
     -H "Content-Type: application/json" \
     -d '{"url": "https://www.tiktok.com/@user/video/123", "key": "your_key_here", "mode": "video"}'
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (curl) ‚Äî —Ç–æ–ª—å–∫–æ –∞—É–¥–∏–æ (mp3):**
```bash
curl -X POST https://your-domain.com/index.php \
     -H "Content-Type: application/json" \
     -d '{"url": "https://www.tiktok.com/@user/video/123", "key": "your_key_here", "mode": "audio"}'
```

> –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: —Ä–µ–∂–∏–º `audio` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç postprocessing `yt-dlp` –∏ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `ffmpeg` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `index.php` ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.
- `README.md` ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.
- `.gitignore` ‚Äî –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –≤ –ª—é–±—ã—Ö —Ü–µ–ª—è—Ö.
